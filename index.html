<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>EvangelieApp ‚Äî –°–ª–æ–≤–æ –¥–ª—è —Å–µ—Ä–¥—Ü–∞</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>üìñ EvangelieApp</h1>
    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ü–∏—Ñ—Ä–æ–≤—É—é –ë–∏–±–ª–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç –∫ —Å–µ—Ä–¥—Ü—É üôè</p>
  </header>

  <section class="daily">
    <h2>üìÜ –°—Ç–∏—Ö –¥–Ω—è</h2>
    <div class="buttons">
      <button onclick="showDailyVerse()">–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∏—Ö</button>
      <button onclick="speakDaily()">üéôÔ∏è –û–∑–≤—É—á–∏—Ç—å</button>
    </div>
    <div id="daily-verse">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –≤–¥–æ—Ö–Ω–æ–≤–∏—Ç—å—Å—è</div>
  </section>

  <section class="reader">
    <h2>üìö –ß–∏—Ç–∞—Ç—å –ë–∏–±–ª–∏—é</h2>
    <div class="inputs">
      <label>–ö–Ω–∏–≥–∞:
        <select id="book"></select>
      </label>
      <label>–ì–ª–∞–≤–∞:
        <input type="number" id="chapter" min="1" value="1">
      </label>
      <label>–°—Ç–∏—Ö:
        <input type="number" id="verse" min="1" value="1">
      </label>
    </div>
    <div class="buttons">
      <button onclick="readVerse()">üìñ –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∏—Ö</button>
      <button onclick="speakBible()">üéôÔ∏è –û–∑–≤—É—á–∏—Ç—å</button>
    </div>
    <div id="bible-output">–í—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–∏–≥—É, –≥–ª–∞–≤—É –∏ —Å—Ç–∏—Ö</div>
  </section>

  <footer>
    <p>¬© EvangelieApp ‚Ä¢ —Å–ª—É–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –°–ª–æ–≤–æ ‚Ä¢ —Å –ª—é–±–æ–≤—å—é üôå</p>
  </footer>

  <script>
    // üìÜ –°—Ç–∏—Ö–∏ –¥–Ω—è
    const versesOfDay = [
      "–ì–æ—Å–ø–æ–¥—å ‚Äî –ü–∞—Å—Ç—ã—Ä—å –º–æ–π; —è –Ω–∏ –≤ —á—ë–º –Ω–µ –±—É–¥—É –Ω—É–∂–¥–∞—Ç—å—Å—è. ‚Äî –ü—Å–∞–ª—Ç–∏—Ä—å 22:1",
      "–ò–±–æ —Ç–∞–∫ –≤–æ–∑–ª—é–±–∏–ª –ë–æ–≥ –º–∏—Ä, —á—Ç–æ –æ—Ç–¥–∞–ª –°—ã–Ω–∞ –°–≤–æ–µ–≥–æ –ï–¥–∏–Ω–æ—Ä–æ–¥–Ω–æ–≥–æ... ‚Äî –ò–æ–∞–Ω–Ω–∞ 3:16",
      "–í—Å–µ –º–æ–≥—É –≤ —É–∫—Ä–µ–ø–ª—è—é—â–µ–º –º–µ–Ω—è –ò–∏—Å—É—Å–µ –•—Ä–∏—Å—Ç–µ. ‚Äî –§–∏–ª–∏–ø–ø–∏–π—Ü–∞–º 4:13",
      "–ù–µ –±–æ–π—Å—è, –∏–±–æ –Ø —Å —Ç–æ–±–æ—é. ‚Äî –ò—Å–∞–π—è 41:10",
      "–ë–ª–∞–∂–µ–Ω–Ω—ã –º–∏—Ä–æ—Ç–≤–æ—Ä—Ü—ã, –∏–±–æ –æ–Ω–∏ –Ω–∞—Ä–µ—á–µ–Ω—ã –±—É–¥—É—Ç —Å—ã–Ω–∞–º–∏ –ë–æ–∂–∏–∏–º–∏. ‚Äî –ú–∞—Ç—Ñ–µ—è 5:9"
    ];

    function showDailyVerse() {
      const r = Math.floor(Math.random() * versesOfDay.length);
      document.getElementById("daily-verse").textContent = versesOfDay[r];
    }

    function speakDaily() {
      const text = document.getElementById("daily-verse").textContent;
      if (text) {
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = "ru-RU";
        speechSynthesis.speak(utter);
      }
    }

    // üìö –ó–∞–≥—Ä—É–∑–∫–∞ –ë–∏–±–ª–∏–∏
    let bibleData = {};

    fetch('biblie.json')
      .then(response => response.json())
      .then(data => {
        bibleData = data;
        populateBooks();
      });

    function populateBooks() {
      const select = document.getElementById("book");
      bibleData.Books.forEach(book => {
        const option = document.createElement("option");
        option.value = book.Book;
        option.textContent = book.Book;
        select.appendChild(option);
      });
    }

    function readVerse() {
      const bookName = document.getElementById("book").value;
      const chapterNum = document.getElementById("chapter").value;
      const verseNum = document.getElementById("verse").value;

      const book = bibleData.Books.find(b => b.Book === bookName);
      if (!book) return showError();

      const chapter = book.Chapters.find(c => c.Chapter == chapterNum);
      if (!chapter) return showError();

      const verse = chapter.Verses.find(v => v.Verse == verseNum);
      if (!verse) return showError();

      document.getElementById("bible-output").textContent =
        `${bookName} ${chapterNum}:${verseNum} ‚Äî ${verse.Text}`;
    }

    function speakBible() {
      const text = document.getElementById("bible-output").textContent;
      if (text) {
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = "ru-RU";
        speechSynthesis.speak(utter);
      }
    }

    function showError() {
      document.getElementById("bible-output").textContent =
        "–°—Ç–∏—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–∏–≥—É, –≥–ª–∞–≤—É –∏ —Å—Ç–∏—Ö.";
    }
  </script>
</body>
</html>
