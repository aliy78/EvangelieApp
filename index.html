<body>
  <header>
    <h1>üìñ EvangelieApp</h1>
    <p>–¶–∏—Ñ—Ä–æ–≤–æ–π –º–æ—Å—Ç –ë–ª–∞–≥–æ–≤–µ—Å—Ç–∏—è ‚Äî –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å üôè</p>
  </header>

  <section class="daily">
    <h2>üìÜ –°—Ç–∏—Ö –¥–Ω—è</h2>
    <div class="buttons">
      <button onclick="showDailyVerse()">–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∏—Ö</button>
      <button onclick="speakDaily()">üéôÔ∏è –û–∑–≤—É—á–∏—Ç—å</button>
    </div>
    <div id="daily-verse">–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ</div>
  </section>

  <section class="reader">
    <h2>üìö –ß–∏—Ç–∞—Ç—å –ë–∏–±–ª–∏—é</h2>
    <div class="inputs">
      <label>–ö–Ω–∏–≥–∞:
        <select id="book"></select>
      </label>
      <label>–ì–ª–∞–≤–∞:
        <input type="number" id="chapter" min="1" value="1">
      </label>
      <label>–°—Ç–∏—Ö:
        <input type="number" id="verse" min="1" value="1">
      </label>
    </div>
    <div class="buttons">
      <button onclick="readVerse()">üìñ –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∏—Ö</button>
      <button onclick="speakBible()">üéôÔ∏è –û–∑–≤—É—á–∏—Ç—å</button>
    </div>
    <div id="bible-output">–í—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–∏–≥—É, –≥–ª–∞–≤—É –∏ —Å—Ç–∏—Ö</div>
  </section>

  <footer>
    <p>¬© EvangelieApp ‚Ä¢ —Å–ª—É–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –°–ª–æ–≤–æ ‚Ä¢ —Å –ª—é–±–æ–≤—å—é üôå</p>
  </footer>
</body>
<script>
  let bibleData = {};

  // –ó–∞–≥—Ä—É–∂–∞–µ–º –ë–∏–±–ª–∏—é –∏–∑ JSON-—Ñ–∞–π–ª–∞
  fetch('biblie.json')
    .then(response => response.json())
    .then(data => {
      bibleData = data;
      populateBooks(); // –ó–∞–ø–æ–ª–Ω—è–µ–º –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥
    });

  // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–Ω–∏–≥
  function populateBooks() {
    const select = document.getElementById("book");
    bibleData.Books.forEach(book => {
      const option = document.createElement("option");
      option.value = book.Book;
      option.textContent = book.Book;
      select.appendChild(option);
    });
  }

  // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∏—Ö–∞
  function readVerse() {
    const bookName = document.getElementById("book").value;
    const chapterNum = document.getElementById("chapter").value;
    const verseNum = document.getElementById("verse").value;

    const book = bibleData.Books.find(b => b.Book === bookName);
    if (!book) return showError();

    const chapter = book.Chapters.find(c => c.Chapter == chapterNum);
    if (!chapter) return showError();

    const verse = chapter.Verses.find(v => v.Verse == verseNum);
    if (!verse) return showError();

    document.getElementById("bible-output").textContent =
      `${bookName} ${chapterNum}:${verseNum} ‚Äî ${verse.Text}`;
  }

  // –û–∑–≤—É—á–∫–∞
  function speakBible() {
    const text = document.getElementById("bible-output").textContent;
    if (text) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = "ru-RU";
      speechSynthesis.speak(utter);
    }
  }

  // –û—à–∏–±–∫–∞, –µ—Å–ª–∏ —Å—Ç–∏—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω
  function showError() {
    document.getElementById("bible-output").textContent =
      "–°—Ç–∏—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–Ω–∏–≥—É, –≥–ª–∞–≤—É –∏ —Å—Ç–∏—Ö.";
  }
</script>
